{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["\nimport axios from 'axios';\n\nconst API_KEY = '52852396-2e2f44ee304cf9c0c54250cb9';\nconst BASE_URL = 'https://pixabay.com/api/';\n\nconst DEFAULT_PARAMS = {\n  key: API_KEY,\n  image_type: 'photo',\n  orientation: 'horizontal',\n  safesearch: 'true',\n  per_page: 40,\n};\n\nexport function getImagesByQuery(query) {\n  return axios\n    .get(BASE_URL, {\n      params: {\n        key: API_KEY,          \n        q: query.trim(),         \n        image_type: 'photo',    \n        orientation: 'horizontal',\n        safesearch: true,         \n        per_page: 40,             \n      },\n    })\n    .then(res => res.data);\n}\n\n\n","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst galleryEl = document.getElementById('gallery');\nconst loaderEl  = document.getElementById('loader');\n\nlet lightbox = null;\nfunction ensureLightbox() {\n  if (!lightbox) {\n    lightbox = new SimpleLightbox('.gallery a', {\n      captions: true,\n      captionsData: 'alt',\n      captionDelay: 200,\n      animationSpeed: 180,\n      overlayOpacity: 0.9,\n    });\n  }\n  return lightbox;\n}\n\nexport function createGallery(images) {\n  if (!Array.isArray(images) || images.length === 0) return;\n\n  const markup = images.map(({\n    webformatURL = '',\n    largeImageURL = '#',\n    tags = '',\n    likes = 0,\n    views = 0,\n    comments = 0,\n    downloads = 0,\n  }) => `\n      <li class=\"card\">\n      <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\"/>\n      </a>\n      <div class=\"meta\">\n        <span>‚ù§ Likes: <b>${likes}</b></span>\n        <span>üëÅ Views: <b>${views}</b></span>\n        <span>üí¨ Comments: <b>${comments}</b></span>\n        <span>‚¨á Downloads: <b>${downloads}</b></span>\n      </div>\n    </li>\n  `).join('');\n     \n      galleryEl.insertAdjacentHTML('beforeend', markup);\n  ensureLightbox().refresh();\n}\n\nexport function clearGallery() {\n  galleryEl.innerHTML = '';\n}\n\nexport function showLoader() {\n  loaderEl.classList.remove('is-hidden');\n  loaderEl.setAttribute('aria-hidden', 'false');\n}\n\nexport function hideLoader() {\n  loaderEl.classList.add('is-hidden');\n  loaderEl.setAttribute('aria-hidden', 'true');\n}\n\n","import './css/styles.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { getImagesByQuery } from './js/pixabay-api.js';\nimport {\n  createGallery,\n  clearGallery,\n  showLoader,\n  hideLoader,\n} from './js/render-functions.js';\n\n\nconst form = document.getElementById('search-form');\nconst submitBtn = form.querySelector('button[type=\"submit\"]');\n\nform.addEventListener('submit', onSearch);\n\nfunction onSearch(evt) {\n  evt.preventDefault();\n\n  const query = form.elements['search-text'].value.trim();\n\n  if (!query) {\n    iziToast.warning({\n      title: '–£–ø—Å',\n      message: '–í–≤–µ–¥–∏ –∫–ª—é—á–æ–≤–µ —Å–ª–æ–≤–æ –ø–µ—Ä–µ–¥ –ø–æ—à—É–∫–æ–º.',\n      position: 'topRight',\n    });\n    return;\n  }\n\n  clearGallery();\n  setLoading(true);\n\n  getImagesByQuery(query)\n    .then(data => {\n      const hits = data?.hits ?? [];\n\n      if (hits.length === 0) {\n        iziToast.info({\n          title: '–ù—ñ—á–æ–≥–æ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω–æ',\n          message: 'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n        });\n        return;\n      }\n\n      createGallery(hits);\n\n      iziToast.success({\n        title: '–ì–æ—Ç–æ–≤–æ',\n        message: `–ó–Ω–∞–π–¥–µ–Ω–æ: ${data.totalHits}. –ü–æ–∫–∞–∑–∞–Ω–æ: ${hits.length}.`,\n        position: 'topRight',\n        timeout: 2200,\n      });\n    })\n    .catch(() => {\n      iziToast.error({\n        title: '–ü–æ–º–∏–ª–∫–∞',\n        message: '–ü—Ä–æ–±–ª–µ–º–∞ –∑ –º–µ—Ä–µ–∂–µ—é –∞–±–æ API. –°–ø—Ä–æ–±—É–π –ø—ñ–∑–Ω—ñ—à–µ.',\n        position: 'topRight',\n      });\n    })\n    .finally(() => setLoading(false));\n}\n\nfunction setLoading(isLoading) {\n  submitBtn.disabled = isLoading;\n  if (isLoading) showLoader();\n  else hideLoader();\n}\n\n\n\n"],"names":["API_KEY","BASE_URL","getImagesByQuery","query","axios","res","galleryEl","loaderEl","lightbox","ensureLightbox","SimpleLightbox","createGallery","images","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","clearGallery","showLoader","hideLoader","form","submitBtn","onSearch","evt","iziToast","setLoading","data","hits","isLoading"],"mappings":"owBAGA,MAAMA,EAAU,qCACVC,EAAW,2BAUV,SAASC,EAAiBC,EAAO,CACtC,OAAOC,EACJ,IAAIH,EAAU,CACb,OAAQ,CACN,IAAKD,EACL,EAAGG,EAAM,KAAM,EACf,WAAY,QACZ,YAAa,aACb,WAAY,GACZ,SAAU,EACX,CACP,CAAK,EACA,KAAKE,GAAOA,EAAI,IAAI,CACzB,CCxBA,MAAMC,EAAY,SAAS,eAAe,SAAS,EAC7CC,EAAY,SAAS,eAAe,QAAQ,EAElD,IAAIC,EAAW,KACf,SAASC,GAAiB,CACxB,OAAKD,IACHA,EAAW,IAAIE,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,eAAgB,EACtB,CAAK,GAEIF,CACT,CAEO,SAASG,EAAcC,EAAQ,CACpC,GAAI,CAAC,MAAM,QAAQA,CAAM,GAAKA,EAAO,SAAW,EAAG,OAEnD,MAAMC,EAASD,EAAO,IAAI,CAAC,CACzB,aAAAE,EAAe,GACf,cAAAC,EAAgB,IAChB,KAAAC,EAAO,GACP,MAAAC,EAAQ,EACR,MAAAC,EAAQ,EACR,SAAAC,EAAW,EACX,UAAAC,EAAY,CAChB,IAAQ;AAAA;AAAA,iBAESL,CAAa;AAAA,oBACVD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,4BAGlBC,CAAK;AAAA,6BACJC,CAAK;AAAA,gCACFC,CAAQ;AAAA,gCACRC,CAAS;AAAA;AAAA;AAAA,GAGtC,EAAE,KAAK,EAAE,EAENd,EAAU,mBAAmB,YAAaO,CAAM,EACpDJ,EAAc,EAAG,SACnB,CAEO,SAASY,GAAe,CAC7Bf,EAAU,UAAY,EACxB,CAEO,SAASgB,GAAa,CAC3Bf,EAAS,UAAU,OAAO,WAAW,EACrCA,EAAS,aAAa,cAAe,OAAO,CAC9C,CAEO,SAASgB,GAAa,CAC3BhB,EAAS,UAAU,IAAI,WAAW,EAClCA,EAAS,aAAa,cAAe,MAAM,CAC7C,CC/CA,MAAMiB,EAAO,SAAS,eAAe,aAAa,EAC5CC,EAAYD,EAAK,cAAc,uBAAuB,EAE5DA,EAAK,iBAAiB,SAAUE,CAAQ,EAExC,SAASA,EAASC,EAAK,CACrBA,EAAI,eAAc,EAElB,MAAMxB,EAAQqB,EAAK,SAAS,aAAa,EAAE,MAAM,OAEjD,GAAI,CAACrB,EAAO,CACVyB,EAAS,QAAQ,CACf,MAAO,MACP,QAAS,qCACT,SAAU,UAChB,CAAK,EACD,MACD,CAEDP,IACAQ,EAAW,EAAI,EAEf3B,EAAiBC,CAAK,EACnB,KAAK2B,GAAQ,CACZ,MAAMC,GAAOD,GAAA,YAAAA,EAAM,OAAQ,GAE3B,GAAIC,EAAK,SAAW,EAAG,CACrBH,EAAS,KAAK,CACZ,MAAO,qBACP,QAAS,2EACT,SAAU,UACpB,CAAS,EACD,MACD,CAEDjB,EAAcoB,CAAI,EAElBH,EAAS,QAAQ,CACf,MAAO,SACP,QAAS,aAAaE,EAAK,SAAS,eAAeC,EAAK,MAAM,IAC9D,SAAU,WACV,QAAS,IACjB,CAAO,CACP,CAAK,EACA,MAAM,IAAM,CACXH,EAAS,MAAM,CACb,MAAO,UACP,QAAS,+CACT,SAAU,UAClB,CAAO,CACP,CAAK,EACA,QAAQ,IAAMC,EAAW,EAAK,CAAC,CACpC,CAEA,SAASA,EAAWG,EAAW,CAC7BP,EAAU,SAAWO,EACjBA,EAAWV,IACVC,GACP"}